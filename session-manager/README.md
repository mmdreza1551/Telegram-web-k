# Session Manager mini-app

یک رابط ساده برای شبیه‌سازی لاگین تلگرام در قالب مینی‌اپ. این پوشه شامل بک‌اند اکسپرس و فرانت‌اند استاتیک است که مراحل وارد کردن شماره، دریافت کد، و تأیید دو مرحله‌ای را با انیمیشن و ظاهر مشابه تلگرام پیاده‌سازی می‌کند.

## اجرای سریع

```bash
cd session-manager
pnpm install  # یا npm install
pnpm start    # سرور روی پورت 4000 اجرا می‌شود
```

بعد از اجرا، در مرورگر به آدرس `http://localhost:4000` بروید.

## API های موک

- `POST /api/send-code` — دریافت کد برای شماره. پاسخ شامل `obfuscatedPhone` و در حالت توسعه `developmentCode` است.
- `POST /api/verify-code` — اعتبارسنجی کد. اگر رمز دو مرحله‌ای لازم باشد فیلد `requirePassword` و `passwordHint` برگردانده می‌شود.
- `POST /api/verify-password` — بررسی رمز دو مرحله‌ای و تحویل توکن سشن ساختگی.

رمز دو مرحله‌ای بر اساس الگوی شماره تعیین می‌شود (به طور نمونه شماره‌های منتهی به ۷ یا ۴۲)، و در غیر این صورت مقدار پیش‌فرض `miniapp-pass` پذیرفته می‌شود.

## سفارشی‌سازی

- استایل‌ها در `public/styles.css` هستند و برای تغییر رنگ‌بندی یا انیمیشن‌ها کافی است همانجا ویرایش کنید.
- رفتار فرم‌ها و انیمیشن سوئیچ مراحل در `public/app.js` پیاده‌سازی شده است.
- منطق موک و استور موقت سشن‌ها در `server.js` قرار دارد.
